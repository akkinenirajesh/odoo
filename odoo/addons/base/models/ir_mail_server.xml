xml
<buvi>
    <model id="Base.IrMailServer" name="Base.IrMailServer" description="Mail Server">
        <field name="Name" type="string" label="Name" required="true" index="true" />
        <field name="FromFilter" type="string" label="FROM Filtering" help="Comma-separated list of addresses or domains for which this server can be used.\n e.g.: &quot;notification@odoo.com&quot; or &quot;odoo.com&quot;" />
        <field name="SmtpHost" type="string" label="SMTP Server" help="Hostname or IP of SMTP server" />
        <field name="SmtpPort" type="integer" label="SMTP Port" default="25" help="SMTP Port. Usually 465 for SSL, and 25 or 587 for other cases." />
        <field name="SmtpAuthentication" type="selection" label="Authenticate with" required="true" default="Login" collection="true">
            <option value="Login" name="Username" />
            <option value="Certificate" name="SSL Certificate" />
            <option value="Cli" name="Command Line Interface" />
        </field>
        <field name="SmtpAuthenticationInfo" type="text" label="Authentication Info" compute="ComputeSmtpAuthenticationInfo" />
        <field name="SmtpUser" type="string" label="Username" help="Optional username for SMTP authentication" groups="Base.GroupSystem" />
        <field name="SmtpPass" type="string" label="Password" help="Optional password for SMTP authentication" groups="Base.GroupSystem" />
        <field name="SmtpEncryption" type="selection" label="Connection Encryption" required="true" default="None" collection="true">
            <option value="None" name="None" />
            <option value="StartTls" name="TLS (STARTTLS)" />
            <option value="Ssl" name="SSL/TLS" />
        </field>
        <field name="SmtpSslCertificate" type="binary" label="SSL Certificate" groups="Base.GroupSystem" help="SSL certificate used for authentication" />
        <field name="SmtpSslPrivateKey" type="binary" label="SSL Private Key" groups="Base.GroupSystem" help="SSL private key used for authentication" />
        <field name="SmtpDebug" type="bool" label="Debugging" help="If enabled, the full output of SMTP sessions will be written to the server log at DEBUG level (this is very verbose and may include confidential info!)" />
        <field name="MaxEmailSize" type="float" label="Max Email Size" />
        <field name="Sequence" type="integer" label="Priority" default="10" help="When no specific mail server is requested for a mail, the highest priority one is used. Default priority is 10 (smaller number = higher priority)" />
        <field name="Active" type="bool" default="true" />
        <unique>
            <field name="Name" />
            <message>A mail server with the same name already exists.</message>
        </unique>
        <constraint name="certificate_requires_tls" expr="SmtpEncryption != 'None' OR SmtpAuthentication != 'Certificate'" message="Certificate-based authentication requires a TLS transport" />
    </model>
</buvi>
