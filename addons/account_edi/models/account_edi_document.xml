xml
<buvi>
    <model id="Account.AccountEdiDocument" name="AccountEdiDocument" description="Electronic Document for an account.move">
        <field name="MoveId" type="Account.AccountMove" required="true" label="Move" />
        <field name="EdiFormatId" type="Account.AccountEdiFormat" required="true" label="EDI Format" />
        <field name="AttachmentId" type="Core.IrAttachment" groups="base.group_system"
            help="The file generated by edi_format_id when the invoice is posted (and this document is processed)." />
        <field name="State" type="Account.AccountEdiDocumentState" />
        <field name="Error" type="string" label="Error" />
        <field name="BlockingLevel" type="Account.AccountEdiDocumentBlockingLevel"
            help="Blocks the current operation of the document depending on the error severity:
            Info: the document is not blocked and everything is working as it should.
            Warning: there is an error that doesn't prevent the current Electronic Invoicing operation to succeed.
            Error: there is an error that blocks the current Electronic Invoicing operation." />
        <field name="Name" type="string" related="AttachmentId.Name" />
        <field name="EdiFormatName" type="string" related="EdiFormatId.Name" label="Format Name" />
        <field name="EdiContent" type="binary" compute="ComputeEdiContent" />

        <unique>
            <field name="EdiFormatId" />
            <field name="MoveId" />
            <message>Only one edi document by move by format</message>
        </unique>
    </model>

    <optionset id="Account.AccountEdiDocumentState" name="Account EDI Document State">
        <option value="ToSend" name="To Send" />
        <option value="Sent" name="Sent" />
        <option value="ToCancel" name="To Cancel" />
        <option value="Cancelled" name="Cancelled" />
    </optionset>

    <optionset id="Account.AccountEdiDocumentBlockingLevel" name="Account EDI Document Blocking Level">
        <option value="Info" name="Info" />
        <option value="Warning" name="Warning" />
        <option value="Error" name="Error" />
    </optionset>
</buvi>
