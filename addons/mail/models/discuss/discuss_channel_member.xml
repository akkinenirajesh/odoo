xml
<buvi>
    <model id="Mail.DiscussChannelMember" name="DiscussChannelMember" description="Channel Member">
        <field name="Partner" type="Res.Partner" label="Partner" ondelete="cascade" index="true" />
        <field name="Guest" type="Mail.Guest" label="Guest" ondelete="cascade" index="true" />
        <field name="IsSelf" type="bool" compute="ComputeIsSelf" search="SearchIsSelf" />
        <field name="Channel" type="Discuss.Channel" label="Channel" ondelete="cascade" required="true" auto_join="true" />
        <field name="CustomChannelName" type="string" label="Custom channel name" />
        <field name="FetchedMessageId" type="Mail.Message" label="Last Fetched" index="btree_not_null" />
        <field name="SeenMessageId" type="Mail.Message" label="Last Seen" index="btree_not_null" />
        <field name="NewMessageSeparator" type="integer" help="Message id before which the separator should be displayed" default="0" required="true" />
        <field name="MessageUnreadCounter" type="integer" label="Unread Messages Counter" compute="ComputeMessageUnread" compute_sudo="true" />
        <field name="FoldState" type="selection" label="Conversation Fold State" default="closed"
            options="DiscussChannelMember.FoldStateOptions" />
        <field name="CustomNotifications" type="selection" label="Customized Notifications"
            options="DiscussChannelMember.CustomNotificationsOptions"
            help="Use default from user settings if not specified. This setting will only be applied to channels." />
        <field name="MuteUntilDt" type="datetime" label="Mute notifications until" help="If set, the member will not receive notifications from the channel until this date." />
        <field name="IsPinned" type="bool" label="Is pinned on the interface" compute="ComputeIsPinned" search="SearchIsPinned" />
        <field name="UnpinDt" type="datetime" label="Unpin date" index="true" help="Contains the date and time when the channel was unpinned by the user." />
        <field name="LastInterestDt" type="datetime" label="Last Interest" index="true" default="now" help="Contains the date and time of the last interesting event that happened in this channel for this user. This includes: creating, joining, pinning" />
        <field name="LastSeenDt" type="datetime" label="Last seen date" />
        <field name="RtcSessionIds" type="Discuss.ChannelRtcSession" label="RTC Sessions" collection="true" inverse_name="ChannelMemberId" />
        <field name="RtcInvitingSessionId" type="Discuss.ChannelRtcSession" label="Ringing session" />
        <unique>
            <field name="Channel" />
            <field name="Partner" />
        </unique>
        <unique>
            <field name="Channel" />
            <field name="Guest" />
        </unique>
        <constraint name="PartnerOrGuestExists" message="A channel member must be a partner or a guest." check="(Partner IS NOT NULL AND Guest IS NULL) OR (Partner IS NULL AND Guest IS NOT NULL)" />
    </model>

    <optionset id="DiscussChannelMember.FoldStateOptions" name="Conversation Fold State Options">
        <option value="open" name="Open" />
        <option value="folded" name="Folded" />
        <option value="closed" name="Closed" />
    </optionset>

    <optionset id="DiscussChannelMember.CustomNotificationsOptions" name="Customized Notifications Options">
        <option value="all" name="All Messages" />
        <option value="mentions" name="Mentions Only" />
        <option value="no_notif" name="Nothing" />
    </optionset>
</buvi>
