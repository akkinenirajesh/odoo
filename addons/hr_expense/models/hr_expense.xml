xml
<buvi>
    <model id="HR.Expense" name="Expense" description="Expense">
        <field name="Name" type="string" label="Description" required="true" compute="ComputeName" />
        <field name="Date" type="date" label="Expense Date" default="Today" />
        <field name="Employee" type="HR.Employee" label="Employee" required="true" compute="ComputeEmployee" />
        <field name="Company" type="Core.Company" label="Company" required="true" readonly="true" default="CurrentCompany" />
        <field name="Product" type="Product.Product" label="Category" domain="CanBeExpensed" />
        <field name="ProductDescription" type="html" compute="ComputeProductDescription" />
        <field name="ProductUom" type="Product.UoM" label="Unit of Measure" compute="ComputeUom" />
        <field name="ProductUomCategory" type="Product.UoMCategory" label="UoM Category" related="Product.Uom.Category" readonly="true" />
        <field name="ProductHasCost" type="bool" compute="ComputeFromProduct" />
        <field name="ProductHasTax" type="bool" label="Whether tax is defined on a selected product" compute="ComputeFromProduct" />
        <field name="Quantity" type="float" required="true" default="1" />
        <field name="Description" type="text" label="Internal Notes" />
        <field name="MessageMainAttachmentChecksum" type="string" related="MessageMainAttachment.Checksum" />
        <field name="NbAttachment" type="integer" label="Number of Attachments" compute="ComputeNbAttachment" />
        <field name="Attachments" type="Core.Attachment[]" inverse="ResId" domain="ResModel = 'HR.Expense'" label="Attachments" />
        <field name="State" type="HR.ExpenseState" label="Status" compute="ComputeState" readonly="true" default="Draft" />
        <field name="Sheet" type="HR.ExpenseSheet" label="Expense Report" domain="Employee = Employee AND Company = Company" readonly="true" />
        <field name="ApprovedBy" type="Core.User" label="Approved By" related="Sheet.User" />
        <field name="ApprovedOn" type="datetime" label="Approved On" related="Sheet.ApprovalDate" />
        <field name="DuplicateExpenses" type="HR.Expense[]" compute="ComputeDuplicateExpenses" />
        <field name="SameReceiptExpenses" type="HR.Expense[]" compute="ComputeSameReceiptExpenses" />
        <field name="TaxAmountCurrency" type="monetary" label="Tax amount in Currency" currency="Currency" compute="ComputeTaxAmountCurrency" />
        <field name="TaxAmount" type="monetary" label="Tax amount" currency="CompanyCurrency" compute="ComputeTaxAmount" />
        <field name="TotalAmountCurrency" type="monetary" label="Total In Currency" currency="Currency" compute="ComputeTotalAmountCurrency" />
        <field name="UntaxedAmountCurrency" type="monetary" label="Total Untaxed Amount In Currency" currency="Currency" compute="ComputeTaxAmountCurrency" />
        <field name="TotalAmount" type="monetary" label="Total" currency="CompanyCurrency" compute="ComputeTotalAmount" />
        <field name="PriceUnit" type="float" label="Unit Price" compute="ComputePriceUnit" required="true" readonly="true" />
        <field name="Currency" type="Core.Currency" label="Currency" compute="ComputeCurrency" required="true" default="CompanyCurrency" />
        <field name="CompanyCurrency" type="Core.Currency" label="Report Company Currency" related="Company.Currency" readonly="true" />
        <field name="IsMultipleCurrency" type="bool" label="Is currency different from the company currency" compute="ComputeIsMultipleCurrency" />
        <field name="CurrencyRate" type="float" compute="ComputeCurrencyRate" readonly="true" />
        <field name="LabelCurrencyRate" type="string" compute="ComputeCurrencyRate" readonly="true" />
        <field name="PaymentMode" type="HR.ExpensePaymentMode" label="Paid By" default="OwnAccount" />
        <field name="Vendor" type="Core.Partner" label="Vendor" />
        <field name="Account" type="Account.Account" label="Account" compute="ComputeAccount" domain="AccountType NOT IN ('AssetReceivable', 'LiabilityPayable', 'AssetCash', 'LiabilityCreditCard') AND Company = Company" />
        <field name="Taxes" type="Account.Tax[]" label="Included taxes" compute="ComputeTaxes" domain="TypeTaxUse = 'Purchase'" />
        <field name="AccountingDate" type="date" label="Accounting Date" related="Sheet.AccountingDate" />
        <field name="IsEditable" type="bool" label="Is Editable By Current User" compute="ComputeIsEditable" />
    </model>

    <optionset id="HR.ExpenseState" name="Expense State">
        <option value="Draft" name="To Report" />
        <option value="Reported" name="To Submit" />
        <option value="Submitted" name="Submitted" />
        <option value="Approved" name="Approved" />
        <option value="Done" name="Done" />
        <option value="Refused" name="Refused" />
    </optionset>

    <optionset id="HR.ExpensePaymentMode" name="Expense Payment Mode">
        <option value="OwnAccount" name="Employee (to reimburse)" />
        <option value="CompanyAccount" name="Company" />
    </optionset>
</buvi>
